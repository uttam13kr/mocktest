<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Online Mock Test</title>

<!-- External CSS -->
<link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="wrap">
    <header class="card">
      <div>
        <!-- Test Title -->
        <h1 id="title">Loading Test...</h1>

        <!-- Subtitle (auto-updated by JS file) -->
        <div id="subtitle" style="color:var(--muted);font-size:13px;margin-top:6px">
          Please wait...
        </div>
      </div>

      <div class="meta">
        <div class="qcount" id="qProgress">Question 0 of 0</div>
        <div class="timer" id="timer">00:00</div>
      </div>
    </header>

    <main class="card" id="card">
      <div class="qcount" id="topicName"></div>

      <!-- Question -->
      <div class="question" id="question">Loading...</div>

      <!-- Options -->
      <div class="options" id="options"></div>

      <div class="nav">
        <button id="prevBtn" class="small">Previous</button>
        <div style="flex:1"></div>
        <button id="nextBtn" class="small">Next</button>
        <button id="submitBtn" style="display:none">Submit</button>
      </div>

      <div id="resultArea"></div>
      <div id="reviewArea" class="review"></div>
    </main>

    <footer id="footerText">Online Mock Test System</footer>
  </div>

<!-- ================================
    LOAD TEST JS DYNAMICALLY
================================== -->
<script>
const urlParams = new URLSearchParams(window.location.search);
const jsFile = urlParams.get("js");

if (!jsFile) {
  alert("❗ No test file provided.\nUse URL format:\nindex.html?js=YourTestFile.js");
} else {
  const script = document.createElement("script");
  script.src = jsFile + "?v=" + Date.now();  // prevents caching
  script.onload = () => console.log("Loaded Test File:", jsFile);
  script.onerror = () => alert("❌ Error loading test file: " + jsFile);
  document.body.appendChild(script);
}
</script>

</body>
</html>
